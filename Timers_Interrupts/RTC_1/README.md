# STM32 RTC Clock Example

This project demonstrates how to configure and use the **Real-Time Clock (RTC)** peripheral on an STM32 microcontroller using the STM32 HAL library. It initializes the RTC, sets a date and time, and continuously reads and outputs the current time via UART.

---

## Features

- **RTC Initialization** with 24-hour format and prescalers configured for accurate timekeeping.
- **Set initial date and time** on RTC startup.
- **Read current time** from RTC in the main loop.
- **Log the current time over UART** at 115200 baud.
- **Basic system clock configuration** using PLL with HSI oscillator.
- **DMA enabled for USART2 TX** (though not actively used in this example).
- **GPIO setup** for onboard LED toggling (commented out in the main loop).

---

## Hardware Requirements

- STM32 microcontroller with RTC peripheral (example code targets STM32F4 series).
- UART interface connected (USART2 used here, typically pins PA2 (TX) and PA3 (RX)).
- Optional: LED on GPIOA Pin 5 for status indication.

---

## Code Overview

### RTC Configuration (`MX_RTC_Init`)

- RTC is configured for 24-hour format.
- Asynchronous prescaler set to 127.
- Synchronous prescaler set to 255.
- RTC output disabled (no output signal generated).
- Initial time set to **00:00:00** (BCD format).
- Initial date set to **Monday, 24th February 2025** (BCD format).

### Main Loop

- Reads the current time from the RTC every iteration.
- Formats the time as `"Time: HH:MM:SS\n"`.
- Sends the time string via UART.
- (Optional) Toggle LED or add delay if desired.

---

## How to Use

1. **Build and flash** the project to your STM32 MCU using your preferred IDE (STM32CubeIDE, Keil, IAR, etc.).
2. Connect a serial terminal (e.g., PuTTY, Tera Term) to the UART port configured (USART2, 115200 baud).
3. Reset the device.
4. Observe the current RTC time being printed continuously on the terminal.

---

## Notes

- The RTC time is reset to the configured value on every reset in this example. For a persistent time across resets, use RTC backup registers or a battery-backed RTC.
- The clock source includes the **LSI oscillator** to drive the RTC.
- UART transmission is blocking with `HAL_UART_Transmit()`.
- Modify the `log_message()` function if you want to implement DMA or interrupt-based UART transmission.

---

## Project Structure

- `main.c` — contains initialization, main loop, RTC and UART setup.
- `stm32f4xx_hal_conf.h` and HAL drivers — STM32 HAL hardware abstraction layer files.
- Additional startup and linker files as generated by STM32CubeMX or your toolchain.

---

## Example Output

- Time: 00:00:00
- Time: 00:00:01
- Time: 00:00:02
